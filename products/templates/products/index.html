{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load humanize %}
{% load static %}

{% block css %}
  <link rel="stylesheet" href="{% static 'products/css/index.css' %}">
{% endblock css %}

<!-- 배너 -->
{% block carousel %}
  <div class="product-brand-banner">
    <div class="product-brand-banner-name" style="">
      {% if category %}
        <h2>{{ category }}</h2>
      {% else %}
        <h2>전체</h2>
      {% endif %}
    </div>
    <div class="product-brand-banner-img" style="width: 55%">
      <img src="{% static 'products/img/laptops.jpg' %}" width="100%" alt="">
    </div>
  </div>
{% endblock carousel %}

{% block content %}
  <div class="d-flex align-items-center my-3 justify-content-between">
    <!-- 필터 -->
    <div class="">
      <p>
        <span>상세검색</span>
        |
        <span>검색 결과</span>
        {% if category %}
          <span>{{ products_category.count }}개</span>
        {% else %}
          <span>{{ products.count }}개</span>
        {% endif %}
      </p>
    </div>
    <!-- 정렬 -->
    <div class="dropdown">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
        추천순
      </button>
      <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
        <li>
          <a class="dropdown-item" href="#">추천순</a>
        </li>
        <li>
          <a class="dropdown-item" href="#">최신순</a>
        </li>
        <li>
          <a class="dropdown-item" href="#">인기순</a>
        </li>
        <li>
          <a class="dropdown-item" href="#">높은 가격순</a>
        </li>
        <li>
          <a class="dropdown-item" href="#">낮은 가격순</a>
        </li>
      </ul>
    </div>
  </div>
  <hr>

  <div class="main">
    <!-- 사이드바 -->
    <aside class="">
      <div>화면크기</div>
      <div>무게</div>
      <div>프로세서</div>
      <div>메모리</div>
      <div>그래픽카드</div>
      <div>저장장치</div>
      <div>가격대</div>
    </aside>

    <!-- 제품 목록 -->
    <div class="container">
      <div class="row"></div>
      <div class="row g-3">
        <!-- -->
        {% if category %}
          {% for product in products_category %}
            <!-- 카드1 한장 시작 -->
            <div class="hit-product col-12 col-sm-6 col-lg-4 position-relative">
              <div class="product-card-body">
                <!-- 찜하기 추가 작업 필요 -->
                <a href="" class="position-absolute top-0 end-0 m-3">찜하기</a>
                <div>
                  <img src="{{ product.썸네일 }}" alt="" class="img-fluid">
                </div>
                <a href="{% url 'products:detail' product.pk %}">
                  <h5 class="card-title">{{ product.모델명 }}</h5>
                  <h6 class="card-subtitle mb-2 text-muted">모델명</h6>
                  <p class="card-text">
                    <div class="standard-price">
                      <span>기준가</span>{{ product.ten_price | intcomma }}
                    </div>
                    <div class="sale-price">
                      <span>할인가</span>{{ product.가격 | intcomma }}</div>
                  </p>
                </a>
                <a href="#" class="btn-color">구매하기</a>
              </div>
            </div>
            <!-- 카드1 한장 끝 -->
          {% endfor %}
        {% else %}
          {% for product in products_category %}
            <!-- 카드1 한장 시작 -->
            <div class="hit-product col-12 col-sm-6 col-lg-4 position-relative">
              <div class="product-card-body">
                <!-- 찜하기 추가 작업 필요 -->
                <div>
                  <img src="{{ product.썸네일 }}" alt="" class="img-fluid">
                </div>
                <a href="{% url 'products:detail' product.pk %}">
                  <h5 class="card-title">{{ product.모델명 }}</h5>
                  <h6 class="card-subtitle mb-2 text-muted">모델명</h6>
                  <p class="card-text">
                    <div class="standard-price">
                      <span>기준가</span>{{ product.ten_price | intcomma }}
                    </div>
                    <div class="sale-price">
                      <span>할인가</span>{{ product.가격 | intcomma }}</div>
                  </p>
                </a>
                <a href="#" class="btn-color">구매하기</a>
              </div>
            </div>
            <!-- 카드1 한장 끝 -->
          {% endfor %}
        {% endif %}
      </div>
    </div>
  </div>

  <!-- 더보기 버튼 -->
  <div class="d-flex justify-content-center m-3">
    <button class="btn-color px-3 py-2">더보기</button>
  </div>
  <!--{% comment %} 제품 하나 {% endcomment %} <div class="col-md-6 col-lg-3 card mb-3"> <div class="row"> {% if request.user in article.like_users.all %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart-fill align-end"></i> {% else %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart justify-right"></i> {% endif %} <img src="https://dummyimage.com/200x250/000000/c4c4c4" alt=""> <h3>아이폰13 Pro Max</h3> <p>A2484</p> <p>기준가 : 1,490,000 원</p> <h5>할인가 : 1,290,000 원</h5> <hr> <div class="d-flex align-text-center"> <p>적립 예정 포인트 </p> <h5> 2500p</h5> </div> <a class="btn btn-primary" href="#" role="button">구매하기</a> </div> </div> {% comment %} 제품 하나 {% endcomment %} <div class="col-md-6 col-lg-3 card mb-3"> <div class="row"> {% if request.user in article.like_users.all %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart-fill"></i> {% else %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart"></i> {% endif %} </div> </div> <div class="col-md-6 col-lg-3 card mb-3"> <div class=""> {% if request.user in article.like_users.all %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart-fill"></i> {% else %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart"></i> {% endif %} </div> </div> <div class="col-md-6 col-lg-3 card mb-3"> <div class=""> {% if request.user in article.like_users.all %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart-fill"></i> {% else %} <i id="like-btn" data-article-id="{{ article.pk }}" class="bi bi-heart"></i> {% endif %} </div> </div>-->
{% endblock content %}
